<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="assets/logo_datatech_-_roxa_escuro.png" type="image/x-icon">
    <link rel="stylesheet" href="./css/dashboard.css">
    <script src="./js/dashboard.js"></script>

    <title>Dashboard • DataTech </title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">


</head>

<body>

    <section class="menu-lateral">
        <div class="identificacao-empresa">
            <h1>Empresa</h1>
        </div>

        <div>
            <b>
                <p>Menu</p>
            </b>
            <a href="dash"><button class="btn-dashboard"><img src="./assets/Chart.png" alt="dashboard icon"
                        class=".dashboard-icon"> Dashboard</button></a>
            <a href="fazenda"><button class="btn-fazenda"> <img src="./assets/Vector.png" alt="fazenda icon"
                        class="icon">Fazendas</button></a>
            <a href="equipe"><button class="btn-equipe"><img src="./assets/Group.png" alt="equipe icon" class="icon">
                    Equipe</button></a>
            <a href="recomendacoes"><button class="btn-recomendacoes"><img src="./assets/Chat.png"
                        alt="recomendacoes icon" class="icon"> Recomendações</button></a>

            <b>
                <p>Outros</p>
            </b>
            <a href="conta"><button class="btn-conta"><img src="./assets/Profile.png" alt="conta icon" class="icon">
                    Conta</button></a>
            <a href="suporte" target="_blank"><button class="btn-suporte"> <img src="./assets/Info Square.png"
                        alt="suporte icon" class="icon">Suporte</button></a>
            <a href="login.html"><button onclick="limparSessao()" class="btn-sair"><img
                        src="./assets/icons8-exit-50.png" alt="exit icon" class="icon"> Sair</button></a>
        </div>

    </section>

    <section class="main-section">
        <div class="navbar">
            <img src="./assets/Group 376.png" alt="perfil icon" class="icon">
            <h3 id="b_usuario">Cliente</h3>
        </div>

        <!-- -------------------------GRAFICO 1------------------------- -->
        <section class="dashboard">

            <div class="titulo-dash">
                <h2>Análise da Produção de Café e Relação com as Condições Climáticas</h2>
                <a href="./dashProximaTela.html"><button class="btn-proxima-tela">Próxima tela</button></a>
            </div>


            <div class="grafico-1">
                <div class="titulo-grafico">
                    <h1>Plantio e Colheita do Café Arábica</h1>
                </div>

                <div class="escolher-info">
    <div class="container">
        <select class="select-ano">
            <option value="2017">2017</option>
            <option value="2018">2018</option>
            <option value="2019">2019</option>
        </select>
        
        <select class="select-cafe">
            <option>Café Arábica</option>
            <option>Café Robusta</option>
        </select>

        <button class="btn-atualizar">Atualizar</button>
    </div>
</div>





                <div class="grafico-plantacao">
                    <canvas id="graficoCafe"></canvas>

                    <div class="kpis">
                        <div class="kpi">
                            <div class="titulo-kpi">
                                <h2 style="color: #10BB00;">Maior eficiência de Produção</h2>
                            </div>
                            <div class="infos-kpi">
                                <h3> São Paulo </h3>
                                <h3> 10 / 300 (t)</h3>
                            </div>
                            <div class="percentagem">
                                <h4 style="color: #10BB00; font-size: 20px;"> 3,3% Perdido<d/h4>
                            </div>
                        </div>

                        <div class="kpi">
                            <div class="titulo-kpi">
                                <h2 style="color: #ff0000;"> Menor eficiência de Produção</h2>
                            </div>
                            <div class="infos-kpi">
                                <h3>Mato Grosso
                                </h3>
                                <h3> 150 / 400 (t)</h3>
                            </div>
                            <div class="percentagem">
                                <h4 style="color: #ff0000; font-size: 20px;">37% Perdido </h4>
                            </div>
                        </div>
                    </div>

                </div>


            </div>



            <div class="grafico-1">
                <div class="titulo-grafico2">
                    <h1>Climograma por Estado</h1>
                </div>

                    <div class="container">
                        <select class="select-ano">
                            <option value="2017">2017</option>
                            <option value="2018">2018</option>
                            <option value="2019">2019</option>
                        </select>

                        <select class="select-estado">
                            <option value="SP">São Paulo</option>
                            <option value=""></option>
                            <option value=""></option>
                        </select>


                        <button class="btn-atualizar">Atualizar</button>
                    </div>

                



                <div class="grafico-plantacao">
                    <canvas id="climograma"></canvas>

                    <div class="kpis">
                        <div class="kpi2">
                            <div class="titulo-kpi">
                                <center>
                                    <h3 style="color: #ff0000;">Mêses Inadequado Produção</h2>
                                </center>
                            </div>
                            <div class="infos-kpi2">
                                <h3> Mês </h3>
                                <h3> 30mm </h3>
                                <h3> 20º </h3>
                            </div>

                            <div class="infos-kpi2">
                                <h3> Mês </h3>
                                <h3> 30mm </h3>
                                <h3> 20º </h3>
                            </div>
                        </div>
                    </div>

                </div>


            </div>
        </section>

    </section>

</body>

<script>
    const ctx = document.getElementById('graficoCafe').getContext('2d');
    const graficoCafe = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: ['SP', 'MG', 'RJ', 'RS', 'MT'], // Estados
            datasets: [
                {
                    label: 'Café Plantado (Toneladas)',
                    data: [300, 400, 250, 370, 400], // Dados de toneladas de café plantado por estado
                    backgroundColor: 'rgba(230, 232, 236, 100)',
                    borderWidth: 1,
                    barThickness: 20
                },
                {
                    label: 'Café Colhido (Toneladas)',
                    data: [290, 370, 230, 200, 250], // Dados de toneladas de café colhido por estado
                    backgroundColor: 'rgba(224, 213, 188, 100)',
                    borderWidth: 1,
                    barThickness: 20
                }
            ]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true,
                    title: {
                        display: true,
                        text: 'Toneladas'
                    }
                },
                x: {
                    stacked: false,
                    categoryPercentage: 100,
                    barPercentage: 0.5
                }
            },
            plugins: {
                title: {
                    display: true,
                    text: 'Produção de Café por Estado (Toneladas)'
                }
            }
        }
    });
</script>
<script>
    const ctx1 = document.getElementById('climograma').getContext('2d');
    const climograma = new Chart(ctx1, {
        type: 'bar',
        data: {
            labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
            datasets: [
                {
                    label: 'Umidade (%)',
                    data: [120, 100, 80, 60, 40, 20, 0, 10, 30, 90, 110, 130],
                    backgroundColor: 'rgba(54, 162, 235, 0.6)',
                    borderColor: 'rgba(54, 162, 235, 1)',
                    borderWidth: 1,
                    yAxisID: 'y moisture',
                    barThickness: 20
                },
                {
                    label: 'Temperatura Média (°C)',
                    data: [22, 23, 24, 26, 28, 30, 31, 30, 28, 25, 23, 21],
                    type: 'line',
                    borderColor: 'rgba(255, 99, 132, 1)',
                    borderWidth: 2,
                    fill: false,
                    yAxisID: 'y temperature'
                }
            ]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true,
                },
                'y moisture': {
                    type: 'linear',
                    position: 'left',   
                    beginAtZero: true,
                    title: {
                        display: true,
                        text: 'Umidade (%)'
                    }
                },
                'y temperature': {
                    type: 'linear',
                    position: 'right',
                    beginAtZero: true,
                    title: {
                        display: true,
                        text: 'Temperatura Média (°C)'
                    },
                    grid: {
                        drawOnChartArea: false,
                    }
                }
            },
            plugins: {
                title: {
                    display: true,
                    text: 'Climograma: Temperatura e Umidade'
                }
            }
        }
    });
</script>


</html>